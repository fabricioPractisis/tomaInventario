<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Validacion de usuarios</title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0;" />
    
    <link rel="stylesheet" type="text/css" href="appframework/af.ui.css" />
    <link rel="stylesheet" type="text/css" href="appframework/icons.css" />
    <script type="text/javascript" charset="utf-8" src="appframework/appframework.ui.min.js"></script>
    <!--AppFramework plugin for sliding side menu-->
    <script type="text/javascript" charset="utf-8" src="appframework/plugins/af.slidemenu.js"></script>
   
</head>
 
<body>
 
<div data-role="page" id="inicio">
 
<div data-role="header">
<h1>Autenticacion de Usuario</h1>
</div>
<div data-role="content">
<form id="formulario" >
<label> Usuario </label>
<input type="text" id="nombredeusuario" name="nombredeusuario">
<label> Password </label>
<input type="password" id="clave" name="clave" >
 
<input type="submit" value="Login" id="botonLogin">
</form>
</div>
</div>
	<div data-role="page" id="home">
	<div id="afui">
    
    <!--Left Side Menu Navigation bar -->
    <nav>
        <ul class="list">
            <li><a href="#page1" class="icon home">Home</a></li>
            <li><a href="#page2" class="icon heart">Favorites</a></li>
            <li><a href="#page3" class="icon chat">Messages</a></li>
            <li><a href="#page4" class="icon user">Profile</a></li>
        </ul>
    </nav>
    
    <div id="content" style=""> 
        
    <!--Main View Pages-->
        <div class="panel" title="Home" id="page1" data-footer="none" selected="true">
            <header>
                <a id="menubadge" onclick='$.ui.toggleSideMenu()' class='menuButton' style="float:left !important"></a>
                <h1>Home</h1>
            </header>
            <p>This is view for first menu item</p>
        </div>
        
        <div class="panel" title="Favorites" id="page2" data-footer="none">
            <header>
                <a id="menubadge" onclick='$.ui.toggleSideMenu()' class='menuButton' style="float:left !important"></a>
                <h1>Favorites</h1>
            </header>
            <p>This is view for second menu item</p>
        </div>
        
        <div class="panel" title="Messages" id="page3" data-footer="none">
            <header>
                <a id="menubadge" onclick='$.ui.toggleSideMenu()' class='menuButton' style="float:left !important"></a>
                <h1>Messages</h1>
            </header>
            <p>This is view for third menu item</p>
        </div>
        
        <div class="panel" title="Profile" id="page4" data-footer="none">
            <header>
                <a id="menubadge" onclick='$.ui.toggleSideMenu()' class='menuButton' style="float:left !important"></a>
                <h1>Profile</h1>
            </header>
            <p>This is view for fourth menu item</p>
        </div>
        
    </div>
</div>
	 
	</div>
 
<script>
$('#formulario').submit(function() {
// recolecta los valores que inserto el usuario
var datosUsuario = $("#nombredeusuario").val()
var datosPassword = $("#clave").val()
archivoValidacion = "https://www.practisis.net/loginPhoneGap.php?jsoncallback=?"
$.getJSON( archivoValidacion, { usuario:datosUsuario ,password:datosPassword})
.done(function(respuestaServer) {

if(respuestaServer.validacion == "ok"){
alert(respuestaServer.mensaje)
$.mobile.changePage("#home")
}else if(respuestaServer.validacion == "error"){
alert(respuestaServer.mensaje)
$.mobile.changePage("#inicio")
}
})
return false;
})
</script>
 
</body>
</html> 